<div id="<%= "task_#{task[:id]}" %>"
     class='task panel panel-default'
     data-id='<%= "#{task[:id]}" %>'>

  <!-- panel header -->
  <div class="panel-heading">
    <div class="pull-right js-links-block">
      <%= link_to edit_task_path(id: task[:id]), remote: true, class: 'js-edit-task' do %>
          <span class="glyphicon glyphicon-pencil"></span>
      <% end %>
      <%= link_to task_path(id: task[:id]), method: :delete, remote: true, class: 'js-delete-task' do %>
          <span class="glyphicon glyphicon-remove"></span>
      <% end %>
    </div>
    <strong>Task#<%= "#{task[:id]}" %></strong><small>, <%= " #{task[:updated_at]}" %></small>
  </div>

  <div class="panel-body">

    <!-- task base information -->
    <div class="row  js-task-edit">
      <div class="col-sm-2">
        <label>Title</label>
      </div>
      <div class="col-sm-3">
        <span><%= task[:title] %></span>
      </div>
      <div class="col-sm-2">
        <label>Description</label>
      </div>
      <div class="col-sm-5">
        <span><%= task[:description] %></span>
      </div>
    </div>

    <!-- share task -->
    <div class="row">
      <div class="col-sm-2">
        <label>Shared</label>
      </div>
      <div class="col-sm-10 js-links-block">
        <%= link_to(share_task_path(id: task[:id]), remote: true, class: 'js-share-task') do %>
            <span class="glyphicon glyphicon-plus"></span> share
        <% end %>
      </div>
    </div>

    <!-- task users -->
    <div class="row">
      <div class="col-sm-offset-1 col-sm-8">
        <ul>
          <% (task.try(:users) || task[:users]).each do |user|%>
              <li><%= user[:email] %></li>
          <% end %>
        </ul>
      </div>
    </div>

  </div>
</div>